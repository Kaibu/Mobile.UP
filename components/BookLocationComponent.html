<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Mobile.UP</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Mobile.UP</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>BookLocationComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/components/book-location/book-location.component.ts</code>
</p>



    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-book-location</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./book-location.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./book-location.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#departmentName">departmentName</a>
                            </li>
                            <li>
                                <a href="#departmentURL">departmentURL</a>
                            </li>
                            <li>
                                <a href="#isLoaded">isLoaded</a>
                            </li>
                            <li>
                                <a href="#item">item</a>
                            </li>
                            <li>
                                <a href="#label">label</a>
                            </li>
                            <li>
                                <a href="#roomURL">roomURL</a>
                            </li>
                            <li>
                                <a href="#url">url</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#webIntent">webIntent</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#getBookUrl">getBookUrl</a>
                            </li>
                            <li>
                                <a href="#getDepartment">getDepartment</a>
                            </li>
                            <li>
                                <a href="#getDepartmentURL">getDepartmentURL</a>
                            </li>
                            <li>
                                <a href="#getEPN">getEPN</a>
                            </li>
                            <li>
                                <a href="#getItem">getItem</a>
                            </li>
                            <li>
                                <a href="#getLabel">getLabel</a>
                            </li>
                            <li>
                                <a href="#getRoomInfo">getRoomInfo</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#bookLocation">bookLocation</a>
                            </li>
                            <li>
                                <a href="#department">department</a>
                            </li>
                            <li>
                                <a href="#isbn">isbn</a>
                            </li>
                            <li>
                                <a href="#mediaType">mediaType</a>
                            </li>
                        </ul>
                    </td>
                </tr>




        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(translate: TranslateService, ws: <a href="../injectables/WebserviceWrapperService.html">WebserviceWrapperService</a>, webIntent: <a href="../injectables/WebIntentService.html">WebIntentService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/components/book-location/book-location.component.ts:26</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>translate</td>
                                                  
                                                        <td>
                                                                    <code>TranslateService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>ws</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/WebserviceWrapperService.html" target="_self" >WebserviceWrapperService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>webIntent</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/WebIntentService.html" target="_self" >WebIntentService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="bookLocation"></a>
                        <b>bookLocation</b>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/app/components/book-location/book-location.component.ts:15</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="department"></a>
                        <b>department</b>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="17" class="link-to-prism">src/app/components/book-location/book-location.component.ts:17</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isbn"></a>
                        <b>isbn</b>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/components/book-location/book-location.component.ts:18</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="mediaType"></a>
                        <b>mediaType</b>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="16" class="link-to-prism">src/app/components/book-location/book-location.component.ts:16</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>



    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBookUrl"></a>
                    <span class="name">
                        <b>
                            getBookUrl
                        </b>
                        <a href="#getBookUrl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getBookUrl(item)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="193"
                            class="link-to-prism">src/app/components/book-location/book-location.component.ts:193</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>item</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDepartment"></a>
                    <span class="name">
                        <b>
                            getDepartment
                        </b>
                        <a href="#getDepartment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDepartment(item)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="73"
                            class="link-to-prism">src/app/components/book-location/book-location.component.ts:73</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>item</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDepartmentURL"></a>
                    <span class="name">
                        <b>
                            getDepartmentURL
                        </b>
                        <a href="#getDepartmentURL"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDepartmentURL(item)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="88"
                            class="link-to-prism">src/app/components/book-location/book-location.component.ts:88</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>item</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEPN"></a>
                    <span class="name">
                        <b>
                            getEPN
                        </b>
                        <a href="#getEPN"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getEPN()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="64"
                            class="link-to-prism">src/app/components/book-location/book-location.component.ts:64</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getItem"></a>
                    <span class="name">
                        <b>
                            getItem
                        </b>
                        <a href="#getItem"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getItem(item)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="108"
                            class="link-to-prism">src/app/components/book-location/book-location.component.ts:108</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>item</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getLabel"></a>
                    <span class="name">
                        <b>
                            getLabel
                        </b>
                        <a href="#getLabel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getLabel(item)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="98"
                            class="link-to-prism">src/app/components/book-location/book-location.component.ts:98</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>item</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRoomInfo"></a>
                    <span class="name">
                        <b>
                            getRoomInfo
                        </b>
                        <a href="#getRoomInfo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getRoomInfo()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="44"
                            class="link-to-prism">src/app/components/book-location/book-location.component.ts:44</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="34"
                            class="link-to-prism">src/app/components/book-location/book-location.component.ts:34</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="departmentName"></a>
                        <span class="name">
                            <b>
                            departmentName</b>
                            <a href="#departmentName"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/components/book-location/book-location.component.ts:20</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="departmentURL"></a>
                        <span class="name">
                            <b>
                            departmentURL</b>
                            <a href="#departmentURL"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/components/book-location/book-location.component.ts:21</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isLoaded"></a>
                        <span class="name">
                            <b>
                            isLoaded</b>
                            <a href="#isLoaded"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/components/book-location/book-location.component.ts:26</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="item"></a>
                        <span class="name">
                            <b>
                            item</b>
                            <a href="#item"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="23" class="link-to-prism">src/app/components/book-location/book-location.component.ts:23</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="label"></a>
                        <span class="name">
                            <b>
                            label</b>
                            <a href="#label"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/components/book-location/book-location.component.ts:22</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="roomURL"></a>
                        <span class="name">
                            <b>
                            roomURL</b>
                            <a href="#roomURL"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/components/book-location/book-location.component.ts:25</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="url"></a>
                        <span class="name">
                            <b>
                            url</b>
                            <a href="#url"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/components/book-location/book-location.component.ts:24</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="webIntent"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            webIntent</b>
                            <a href="#webIntent"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../injectables/WebIntentService.html" target="_self" >WebIntentService</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/app/components/book-location/book-location.component.ts:31</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, Input } from &#x27;@angular/core&#x27;;
import * as moment from &#x27;moment&#x27;;
import { utils } from &#x27;../../lib/util&#x27;;
import { WebIntentService } from &#x27;../../services/web-intent/web-intent.service&#x27;;
import { TranslateService } from &#x27;@ngx-translate/core&#x27;;
import {WebserviceWrapperService} from &#x27;../../services/webservice-wrapper/webservice-wrapper.service&#x27;;

@Component({
  selector: &#x27;app-book-location&#x27;,
  templateUrl: &#x27;./book-location.component.html&#x27;,
  styleUrls: [&#x27;./book-location.component.scss&#x27;]
})
export class BookLocationComponent implements OnInit {

  @Input() bookLocation;
  @Input() mediaType;
  @Input() department;
  @Input() isbn;

  departmentName;
  departmentURL;
  label;
  item;
  url;
  roomURL;
  isLoaded &#x3D; false;

  constructor(
    private translate: TranslateService,
    private ws: WebserviceWrapperService,
    public webIntent: WebIntentService // is used in the HTML
  ) { }

  ngOnInit() {
    this.isLoaded &#x3D; false;
    this.departmentName &#x3D; this.getDepartment(this.department);
    this.departmentURL &#x3D; this.getDepartmentURL(this.department);
    this.label &#x3D; this.getLabel(this.department);
    this.item &#x3D; this.getItem(this.department);
    this.url &#x3D; this.getBookUrl(this.department);
    this.getRoomInfo();
  }

  getRoomInfo() {
    const epn &#x3D; this.getEPN();
    if (epn &amp;&amp; this.label &amp;&amp; this.label !&#x3D;&#x3D; &#x27;bestellt&#x27;
    &amp;&amp; this.departmentName.trim() !&#x3D;&#x3D; &#x27;Handapparat&#x27;
    &amp;&amp; this.departmentName.trim() !&#x3D;&#x3D; &#x27;Universität Potsdam, Universitätsbibliothek&#x27;) {
      this.ws.call(&#x27;libraryLKZ&#x27;, {epn: epn}).subscribe(data &#x3D;&gt; {
        const lkz &#x3D; data[&#x27;msg&#x27;];
        if (lkz &amp;&amp; lkz !&#x3D;&#x3D; &#x27;no results&#x27; &amp;&amp; lkz !&#x3D;&#x3D; &#x27;parameter incorrect&#x27;) {
          let url &#x3D; &#x27;https://uni-potsdam.mapongo.de/viewer?search_key&#x3D;&#x27; + encodeURI(this.label);
          url +&#x3D; &#x27;&amp;search_context2&#x3D;&#x27; + lkz + &#x27;&amp;language&#x3D;&#x27; + this.translate.currentLang + &#x27;&amp;project_id&#x3D;1&#x27;;
          this.roomURL &#x3D; url;
        }

        this.isLoaded &#x3D; true;
      }, error &#x3D;&gt; {
        this.isLoaded &#x3D; true;
      });
    } else { this.isLoaded &#x3D; true; }
  }

  getEPN() {
    const epn &#x3D; this.department.id.split(&#x27;epn:&#x27;)[1];
    return epn;
  }

  /**
   * @name getDepartment
   * @param item
   */
  getDepartment(item) {
    let department &#x3D; &#x27;&#x27;;
    if (item.department &amp;&amp; item.department.content) {
      department &#x3D; item.department.content;
    }
    if (item.storage) {
      department &#x3D; department + &#x27;, &#x27; + item.storage.content;
    }
    return department;
  }

  /**
   * @name getDepartmentURL
   * @param item
   */
  getDepartmentURL(item) {
    if (item.department &amp;&amp; item.department.id) {
      return item.department.id;
    } else { return &#x27;&#x27;; }
  }

  /**
   * @name getLabel
   * @param item
   */
  getLabel(item) {
    if (item.label) {
      return item.label;
    } else { return &#x27;&#x27;; }
  }

  /**
   * @name getItem
   * @param item
   */
  getItem(item) {
    let status &#x3D; &#x27;&#x27;, statusInfo &#x3D; &#x27;&#x27;;

    // check for available / unavailable items and process loan and presentation
    let loanAvailable, presentationAvailable;
    if (item.available) {
      // tslint:disable-next-line:no-var-keyword
      const availableArray &#x3D; utils.convertToArray(item.available);
      if (availableArray) {
        loanAvailable &#x3D; availableArray.find(x &#x3D;&gt; x.service &#x3D;&#x3D;&#x3D; &#x27;loan&#x27;);
        presentationAvailable &#x3D; availableArray.find(x &#x3D;&gt; x.service &#x3D;&#x3D;&#x3D; &#x27;presentation&#x27;);
      }
    }

    let loanUnavailable, presentationUnavailable;
    if (item.unavailable) {
      const unavailableArray &#x3D; utils.convertToArray(item.unavailable);
      if (unavailableArray) {
        loanUnavailable &#x3D; unavailableArray.find(x &#x3D;&gt; x.service &#x3D;&#x3D;&#x3D; &#x27;loan&#x27;);
        presentationUnavailable &#x3D; unavailableArray.find(x &#x3D;&gt; x.service &#x3D;&#x3D;&#x3D; &#x27;presentation&#x27;);
      }
    }

    if (loanAvailable) {
      status &#x3D; &#x27;ausleihbar&#x27;;

      if (presentationAvailable) {
        // tag available with service&#x3D;&quot;loan&quot; and href&#x3D;&quot;&quot;?
        if (presentationAvailable.limitation) {
          statusInfo &#x3D; presentationAvailable.limitation[0].content;
        }

        if (loanAvailable.href &#x3D;&#x3D;&#x3D; &#x27;&#x27;) {
          statusInfo &#x3D; statusInfo + &#x27;Bitte bestellen&#x27;;
        }
      }
    } else {
      // check for loan in unavailable items
      // indicates LBS and Online-Resources
      if (loanUnavailable &amp;&amp; loanUnavailable.href) {
        if (loanUnavailable.href.indexOf(&#x27;loan/RES&#x27;) !&#x3D;&#x3D; -1) {
          status &#x3D; &#x27;ausleihbar&#x27;;
        } else { status &#x3D; &#x27;nicht ausleihbar&#x27;; }
      } else {
        // if there is no url then it will be a presentation
        if (this.getBookUrl(item) &#x3D;&#x3D; null) {
          if (item.label &amp;&amp; item.label.indexOf(&#x27;bestellt&#x27;) !&#x3D;&#x3D; -1) {
            status &#x3D; item.label;
            statusInfo &#x3D; &#x27;&#x27;;
          } else {
            status &#x3D; &#x27;Präsenzbestand&#x27;;
            if (presentationAvailable &amp;&amp; presentationAvailable.limitation) {
              statusInfo &#x3D; presentationAvailable.limitation[0].content;
            }
          }
        } else {
          status &#x3D; &#x27;Online-Ressource im Browser öffnen&#x27;;
        }
      }

      if (presentationUnavailable) {
        if (loanUnavailable &amp;&amp; loanUnavailable.href) {
          if (loanUnavailable.href.indexOf(&#x27;loan/RES&#x27;) !&#x3D;&#x3D; -1) {
            status &#x3D; &#x27;ausgeliehen&#x27;;
            if (!loanUnavailable.expected || loanUnavailable.expected &#x3D;&#x3D;&#x3D; &#x27;unknown&#x27;) {
              statusInfo &#x3D; statusInfo + &#x27;ausgeliehen, Vormerken möglich&#x27;;
            } else {
              statusInfo &#x3D; statusInfo + &#x27;ausgeliehen bis &#x27;;
              statusInfo &#x3D; statusInfo + moment(loanUnavailable.expected, &#x27;YYYY-MM-DD&#x27;).format(&#x27;DD.MM.YYYY&#x27;);
              statusInfo &#x3D; statusInfo + &#x27;, vormerken möglich&#x27;;
            }
          }
        } else {
          statusInfo &#x3D; statusInfo + &#x27;...&#x27;;
        }
      }
    }

    return [status, statusInfo];
  }

  /**
   * @name getBookUrl
   * @param item
   */
  getBookUrl(item): string {
    let url;
    if (this.bookLocation) {
      let i;
      const tmp &#x3D; utils.convertToArray(this.bookLocation);
      for (i &#x3D; 0; i &lt; tmp.length; i++) {
        if (tmp[i].url) {
          const tmpUrl &#x3D; utils.convertToArray(tmp[i].url);
          let j;
          for (j &#x3D; 0; j &lt; tmpUrl.length; j++) {
            if (tmpUrl[j].$ &amp;&amp; (tmpUrl[j].$.usage &#x3D;&#x3D;&#x3D; &#x27;primary display&#x27;)) {
              if (tmpUrl[j]._) {
                url &#x3D; tmpUrl[j]._;
                break;
              }
            }
          }
        }
      }
    }

    if (this.mediaType &#x3D;&#x3D;&#x3D; &#x27;mediatype_o&#x27;) {
      let tmp;
      if (item.unavailable &amp;&amp; item.unavailable[0] &amp;&amp; item.unavailable[0].service &#x3D;&#x3D;&#x3D; &#x27;openaccess&#x27;) {
        tmp &#x3D; item.unavailable[0].href;
      } else { tmp &#x3D; null; }
      if (tmp !&#x3D; null) { url &#x3D; tmp; }

      if (url &#x3D;&#x3D;&#x3D; null || url &#x3D;&#x3D;&#x3D; undefined) {
        if (this.isbn &amp;&amp; Array.isArray(this.isbn)) {
          for (const identifier of this.isbn) {
            if (identifier.toLowerCase().indexOf(&#x27;[doi]&#x27;) !&#x3D;&#x3D; -1) {
              url &#x3D; &#x27;https://doi.org/&#x27; + identifier.replace(&#x27;[doi]&#x27;, &#x27;&#x27;).trim();
            }
          }
        }
      }
    }

    return url;
  }

}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;ion-list *ngIf&#x3D;&quot;isLoaded&quot;&gt;
  &lt;ion-item style&#x3D;&quot;--padding-start: 5px;&quot; lines&#x3D;&quot;none&quot; class&#x3D;&quot;department&quot; color&#x3D;&quot;primary&quot;&gt;
      &lt;ion-label text-wrap&gt;
          {{ departmentName }}
      &lt;/ion-label&gt;
      &lt;ion-icon slot&#x3D;&quot;end&quot; size&#x3D;&quot;small&quot; style&#x3D;&quot;color: white; -webkit-margin-start: 0; margin-inline-start: 10px;&quot; name&#x3D;&quot;information-circle&quot; (click)&#x3D;&quot;webIntent.permissionPromptWebsite(departmentURL)&quot;&gt;&lt;/ion-icon&gt;
  &lt;/ion-item&gt;
  &lt;ion-item style&#x3D;&quot;--padding-start: 5px;&quot; lines&#x3D;&quot;none&quot; *ngIf&#x3D;&quot;url; else noUrl&quot; color&#x3D;&quot;secondary&quot; class&#x3D;&quot;itemStatus&quot;&gt;
      &lt;ion-label text-wrap *ngIf&#x3D;&quot;item[0]&quot;&gt;
          &lt;span (click)&#x3D;&quot;webIntent.permissionPromptWebsite(url)&quot; style&#x3D;&quot;text-decoration: underline; color: var(--ion-color-primary)&quot;&gt;{{ item[0] }}&lt;/span&gt;
      &lt;/ion-label&gt;
  &lt;/ion-item&gt;
  &lt;ng-template #noUrl&gt;
      &lt;ion-item style&#x3D;&quot;--padding-start: 5px;&quot; lines&#x3D;&quot;none&quot; color&#x3D;&quot;secondary&quot; class&#x3D;&quot;itemStatus&quot;&gt;
          &lt;ion-icon slot&#x3D;&quot;start&quot; style&#x3D;&quot;color: darkred; -webkit-margin-end: 10px;&quot; *ngIf&#x3D;&quot;item[0] &amp;&amp; (item[0].indexOf(&#x27;ausgeliehen&#x27;) !&#x3D; -1) || (item[0].indexOf(&#x27;nicht&#x27;) !&#x3D; -1) || (item[0].indexOf(&#x27;bestellt&#x27;) !&#x3D; -1)&quot; name&#x3D;&quot;ios-remove-circle&quot;&gt;&lt;/ion-icon&gt;
          &lt;ion-icon slot&#x3D;&quot;start&quot; style&#x3D;&quot;color: darkgreen; -webkit-margin-end: 10px;&quot; *ngIf&#x3D;&quot;item[0] &amp;&amp; departmentName &amp;&amp; (item[0].indexOf(&#x27;Präsenzbestand&#x27;) !&#x3D; -1) || (departmentName.indexOf(&#x27;Handapparat&#x27;) !&#x3D; -1)&quot; name&#x3D;&quot;ios-contrast&quot;&gt;&lt;/ion-icon&gt;
          &lt;ion-icon slot&#x3D;&quot;start&quot; style&#x3D;&quot;color: darkgreen; -webkit-margin-end: 10px;&quot; *ngIf&#x3D;&quot;!(item[0] &amp;&amp; ((item[0].indexOf(&#x27;ausgeliehen&#x27;) !&#x3D; -1) || (item[0].indexOf(&#x27;nicht&#x27;) !&#x3D; -1) || (item[0].indexOf(&#x27;bestellt&#x27;) !&#x3D; -1)) || item[0] &amp;&amp; departmentName &amp;&amp; ((item[0].indexOf(&#x27;Präsenzbestand&#x27;) !&#x3D; -1) || (departmentName.indexOf(&#x27;Handapparat&#x27;) !&#x3D; -1)))&quot; name&#x3D;&quot;ios-checkmark-circle&quot;&gt;&lt;/ion-icon&gt;
          &lt;ion-label *ngIf&#x3D;&quot;item[0]&quot; text-wrap style&#x3D;&quot;color: var(--ion-color-primary);&quot;&gt;
              {{ item[0] }}
          &lt;/ion-label&gt;
          &lt;ion-icon *ngIf&#x3D;&quot;roomURL&quot; size&#x3D;&quot;small&quot; slot&#x3D;&quot;end&quot; style&#x3D;&quot;color: var(--ion-color-primary); -webkit-margin-start: 0; margin-inline-start: 3px;&quot; name&#x3D;&quot;pin&quot; (click)&#x3D;&quot;webIntent.permissionPromptWebsite(roomURL)&quot;&gt;&lt;/ion-icon&gt;
          &lt;ion-note *ngIf&#x3D;&quot;label &amp;&amp; item[0] &amp;&amp; label !&#x3D; item[0]&quot; style&#x3D;&quot;font-size: small; padding-inline-start: 5px; margin-inline-start: 0px; -webkit-margin-start: 0px; -webkit-padding-start: 5px;&quot; slot&#x3D;&quot;end&quot;&gt;{{ label }}&lt;/ion-note&gt;
      &lt;/ion-item&gt;
      &lt;ion-item *ngIf&#x3D;&quot;item[1]&quot; style&#x3D;&quot;--padding-start: 5px;&quot; lines&#x3D;&quot;none&quot; color&#x3D;&quot;secondary&quot; class&#x3D;&quot;itemStatus&quot;&gt;
          &lt;ion-label text-wrap style&#x3D;&quot;margin-top: 0&quot;&gt;
            &lt;span style&#x3D;&quot;color: black; font-size: small&quot;&gt;{{ item[1] }}&lt;/span&gt;
          &lt;/ion-label&gt;
      &lt;/ion-item&gt;
  &lt;/ng-template&gt;
&lt;/ion-list&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./book-location.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss"></code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><ion-list *ngIf="isLoaded">  <ion-item style="--padding-start: 5px;" lines="none" class="department" color="primary">      <ion-label text-wrap>          {{ departmentName }}      </ion-label>      <ion-icon slot="end" size="small" style="color: white; -webkit-margin-start: 0; margin-inline-start: 10px;" name="information-circle" (click)="webIntent.permissionPromptWebsite(departmentURL)"></ion-icon>  </ion-item>  <ion-item style="--padding-start: 5px;" lines="none" *ngIf="url; else noUrl" color="secondary" class="itemStatus">      <ion-label text-wrap *ngIf="item[0]">          <span (click)="webIntent.permissionPromptWebsite(url)" style="text-decoration: underline; color: var(--ion-color-primary)">{{ item[0] }}</span>      </ion-label>  </ion-item>  <ng-template #noUrl>      <ion-item style="--padding-start: 5px;" lines="none" color="secondary" class="itemStatus">          <ion-icon slot="start" style="color: darkred; -webkit-margin-end: 10px;" *ngIf="item[0] && (item[0].indexOf(\'ausgeliehen\') != -1) || (item[0].indexOf(\'nicht\') != -1) || (item[0].indexOf(\'bestellt\') != -1)" name="ios-remove-circle"></ion-icon>          <ion-icon slot="start" style="color: darkgreen; -webkit-margin-end: 10px;" *ngIf="item[0] && departmentName && (item[0].indexOf(\'Präsenzbestand\') != -1) || (departmentName.indexOf(\'Handapparat\') != -1)" name="ios-contrast"></ion-icon>          <ion-icon slot="start" style="color: darkgreen; -webkit-margin-end: 10px;" *ngIf="!(item[0] && ((item[0].indexOf(\'ausgeliehen\') != -1) || (item[0].indexOf(\'nicht\') != -1) || (item[0].indexOf(\'bestellt\') != -1)) || item[0] && departmentName && ((item[0].indexOf(\'Präsenzbestand\') != -1) || (departmentName.indexOf(\'Handapparat\') != -1)))" name="ios-checkmark-circle"></ion-icon>          <ion-label *ngIf="item[0]" text-wrap style="color: var(--ion-color-primary);">              {{ item[0] }}          </ion-label>          <ion-icon *ngIf="roomURL" size="small" slot="end" style="color: var(--ion-color-primary); -webkit-margin-start: 0; margin-inline-start: 3px;" name="pin" (click)="webIntent.permissionPromptWebsite(roomURL)"></ion-icon>          <ion-note *ngIf="label && item[0] && label != item[0]" style="font-size: small; padding-inline-start: 5px; margin-inline-start: 0px; -webkit-margin-start: 0px; -webkit-padding-start: 5px;" slot="end">{{ label }}</ion-note>      </ion-item>      <ion-item *ngIf="item[1]" style="--padding-start: 5px;" lines="none" color="secondary" class="itemStatus">          <ion-label text-wrap style="margin-top: 0">            <span style="color: black; font-size: small">{{ item[1] }}</span>          </ion-label>      </ion-item>  </ng-template></ion-list></div>'
    var COMPONENTS = [{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'AppInfoPage', 'selector': 'app-app-info'},{'name': 'BookDetailModalPage', 'selector': 'book-modal-page'},{'name': 'BookListComponent', 'selector': 'app-book-list'},{'name': 'BookLocationComponent', 'selector': 'app-book-location'},{'name': 'CampusMapFeatureModalComponent', 'selector': 'app-campus-map-feature-modal'},{'name': 'CampusMapPage', 'selector': 'app-campus-map'},{'name': 'CampusReorderModalPage', 'selector': 'campus-modal-page'},{'name': 'CampusTabComponent', 'selector': 'app-campus-tab'},{'name': 'CourseDataComponent', 'selector': 'app-course-data'},{'name': 'DatePickerComponent', 'selector': 'app-date-picker'},{'name': 'DetailedOpeningModalPage', 'selector': 'detailed-opening-modal-page'},{'name': 'DetailedPracticeModalPage', 'selector': 'detailed-practice-modal-page'},{'name': 'EmergencyPage', 'selector': 'app-emergency'},{'name': 'EventModalPage', 'selector': 'event-modal-page'},{'name': 'EventsPage', 'selector': 'app-events'},{'name': 'EventViewComponent', 'selector': 'app-event-view'},{'name': 'FeedbackPage', 'selector': 'app-feedback'},{'name': 'FooterDisclaimerComponent', 'selector': 'app-footer-disclaimer'},{'name': 'FreeRoomsPage', 'selector': 'app-free-rooms'},{'name': 'GradesPage', 'selector': 'app-grades'},{'name': 'GradesTableComponent', 'selector': 'app-grades-table'},{'name': 'HintBoxComponent', 'selector': 'app-hint-box'},{'name': 'HomePage', 'selector': 'app-home'},{'name': 'ImpressumModalPage', 'selector': 'impressum-modal-page'},{'name': 'ImpressumPage', 'selector': 'app-impressum'},{'name': 'LectureListComponent', 'selector': 'app-lecture-list'},{'name': 'LectureSearchModalPage', 'selector': 'lecture-search-modal-page'},{'name': 'LecturesPage', 'selector': 'app-lectures'},{'name': 'LibrarySearchPage', 'selector': 'app-library-search'},{'name': 'LoginPage', 'selector': 'app-login'},{'name': 'MensaMealComponent', 'selector': 'app-mensa-meal'},{'name': 'MensaPage', 'selector': 'app-mensa'},{'name': 'NewsArticleComponent', 'selector': 'app-news-article'},{'name': 'NewsPage', 'selector': 'app-news'},{'name': 'OpeningHoursPage', 'selector': 'app-opening-hours'},{'name': 'PersonSearchPage', 'selector': 'app-person-search'},{'name': 'PracticePage', 'selector': 'app-practice'},{'name': 'RoomplanPage', 'selector': 'app-roomplan'},{'name': 'SettingsPage', 'selector': 'app-settings'},{'name': 'TimetablePage', 'selector': 'app-timetable'},{'name': 'TransportPage', 'selector': 'app-transport'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'BookLocationComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'BookLocationComponent.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
