<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Mobile.UP</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Mobile.UP</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>WebserviceWrapperService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/services/webservice-wrapper/webservice-wrapper.service.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Service for bundling all http calls in one place.</p>
<p>In <a href="webservices">webservices</a> a webservice request can be defined. A definition consists
of three functions: &#39;buildRequest&#39;, &#39;responseCallback&#39;, &#39;errorCallback&#39;.</p>
<ul>
<li><p>buildRequest: This function <em>must</em> be defined as it is the function that actually
 builds the request. The parameters this function uses must be passed to the
 <a href="call">call</a> function when it is called.</p>
</li>
<li><p>responseCallback: This function can optionally be defined to preprocess the
 webservices response before being returned to where the function was called.
 By default (see <a href="defaults">defaults</a>) a function that just passes on the response
 is called, so in other words nothing will be done.</p>
</li>
<li><p>errorCallback: This function can optionally be defined to handle an error
 individually.
 By default (see <a href="defaults">defaults</a>) the error is simply logged to console and
 passed on.</p>
</li>
</ul>
<p>This service also supports caching. Caching is enabled for every endpoint by
default, if it should be disabled set &#39;cachingEnabled&#39; to false in the endpoint
definition.
When calling a webservice an optional object for caching options can be used.
In this object you can manually set some caching parameters and make the request
remove any cached items before execution by using:</p>
<ul>
<li>&#39;forceRefresh&#39;: will remove item with same cacheItemKey</li>
<li>&#39;forceRefreshGroup&#39;: will remove all items with same cacheGroupKey</li>
</ul>
<p>Usage examples:</p>

            </p>


            <p class="comment">
                <h3>Example</h3>
            </p>
            <div class="io-description">
                        <div>
                            <pre class="line-numbers"><code class="language-html">// without parameters
this.webserviceWrapper.call('maps')

// with parameters
this.webserviceWrapper.call('mensa', {campus_canteen_name: 'NeuesPalais'})

// will get a new element because forceRefresh is set to true
this.webserviceWrapper.call(
'mensa',
{campus_canteen_name: 'NeuesPalais'},
{forceRefresh: true}
)

// will remove any cached mensa request because forceRefrehGroup is set to true
this.webserviceWrapper.call(
'mensa',
{campus_canteen_name: 'NeuesPalais'},
{forceRefreshGroup: true}
)</code></pre>
                        </div>
            </div>

            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#apiTokenHeader">apiTokenHeader</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#config">config</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#defaults">defaults</a>
                            </li>
                            <li>
                                <a href="#logger">logger</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#pulsHeaders">pulsHeaders</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#webservices">webservices</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#call">call</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getDefinition">getDefinition</a>
                            </li>
                            <li>
                                <a href="#pulsResponseCallback">pulsResponseCallback</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(http: <a href="https://angular.io/api/common/http/HttpClient" target="_blank">HttpClient</a>, cache: CacheService, alertService: <a href="../injectables/AlertService.html">AlertService</a>, connection: <a href="../injectables/ConnectionService.html">ConnectionService</a>, loggingService: LoggingService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="437" class="link-to-prism">src/app/services/webservice-wrapper/webservice-wrapper.service.ts:437</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>http</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/common/http/HttpClient" target="_blank" >HttpClient</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>cache</td>
                                                  
                                                        <td>
                                                                    <code>CacheService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>alertService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AlertService.html" target="_self" >AlertService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>connection</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ConnectionService.html" target="_self" >ConnectionService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>loggingService</td>
                                                  
                                                        <td>
                                                                    <code>LoggingService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="call"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            call
                        </b>
                        <a href="#call"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>call(webserviceName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, params: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>, cachingOptions: <a href="../interfaces/ICachingOptions.html">ICachingOptions</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="490"
                            class="link-to-prism">src/app/services/webservice-wrapper/webservice-wrapper.service.ts:490</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>executes the specified call</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>webserviceName</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                    <td>
                                        <p>The name of the service to be called</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>params</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                    <td>
                                        <p>Additional params that will be given to the call building function</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>cachingOptions</td>
                                    <td>
                                                <code><a href="../interfaces/ICachingOptions.html" target="_self" >ICachingOptions</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                    <td>
                                        <p>Optional parameters for caching</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDefinition"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            getDefinition
                        </b>
                        <a href="#getDefinition"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getDefinition(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="471"
                            class="link-to-prism">src/app/services/webservice-wrapper/webservice-wrapper.service.ts:471</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns a webservice definition and sets default values for a webservice
definitions attributes that are undefined. If the webservice is not known,
an error will the thrown.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Name of the webservice to be returned</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pulsResponseCallback"></a>
                    <span class="name">
                        <b>
                            pulsResponseCallback
                        </b>
                        <a href="#pulsResponseCallback"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>pulsResponseCallback(response, wsName)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="449"
                            class="link-to-prism">src/app/services/webservice-wrapper/webservice-wrapper.service.ts:449</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>response</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>wsName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="apiTokenHeader"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            apiTokenHeader</b>
                            <a href="#apiTokenHeader"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{Authorization: this.config.webservices.apiToken}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="97" class="link-to-prism">src/app/services/webservice-wrapper/webservice-wrapper.service.ts:97</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>oftenly used header, can be used in buildRequest functions</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="config"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            config</b>
                            <a href="#config"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/IConfig.html" target="_self" >IConfig</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>ConfigService.config</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">src/app/services/webservice-wrapper/webservice-wrapper.service.ts:92</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="defaults"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            defaults</b>
                            <a href="#defaults"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{
    // by default the response will be passed on
    responseCallback: (response: any, wsName) &#x3D;&gt; {
      const stringResponse &#x3D; JSON.stringify(response);
      if (stringResponse.length &gt; 30000) {
        this.logger.debug(&#x27;responseCallback&#x27;, &#x60;calling &#x27;${wsName}&#x27;: &#x60;, stringResponse.substring(0, 30000));
      } else { this.logger.debug(&#x27;responseCallback&#x27;, &#x60;calling &#x27;${wsName}&#x27;: &#x60;, response); }
      return response;
    },
    // by default in case of an error the error will be passed on
    errorCallback: (error, wsName) &#x3D;&gt; {
      this.logger.error(&#x27;errorCallback&#x27;, &#x60;calling &#x27;${wsName}&#x27;: &#x60;, error);
      return error;
    }
  }</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="108" class="link-to-prism">src/app/services/webservice-wrapper/webservice-wrapper.service.ts:108</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>default values for webservice definitions. Will be assigned in <a href="getDefinition">getDefinition</a>
if not set</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="logger"></a>
                        <span class="name">
                            <b>
                            logger</b>
                            <a href="#logger"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Logger</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="437" class="link-to-prism">src/app/services/webservice-wrapper/webservice-wrapper.service.ts:437</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="pulsHeaders"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            pulsHeaders</b>
                            <a href="#pulsHeaders"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{
    &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,
    &#x27;Authorization&#x27;: this.config.webservices.apiToken
  }</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="99" class="link-to-prism">src/app/services/webservice-wrapper/webservice-wrapper.service.ts:99</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="webservices"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            webservices</b>
                            <a href="#webservices"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>literal type</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{
    maps: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader
          }
        );
      }
    },
    mensa: {
      buildRequest: (params: IMensaRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: {location: params.campus_canteen_name}
          }
        );
      }
    },
    personSearch: {
      buildRequest: (params: IPersonsRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url + &#x27;/&#x27; + params.query,
          {
            headers: {
              Authorization: &#x60;${params.session.oidcTokenObject.token_type} ${params.session.oidcTokenObject.access_token}&#x60;
            }
          }
        );
      }
    },
    roomsSearch: {
      buildRequest: (params: IRoomsRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: createRoomParams(params)
          }
        );
      }
    },
    roomPlanSearch: {
      buildRequest: (params: IRoomsRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: createRoomParams(params)
          }
        );
      }
    },
    library: {
      buildRequest: (requestParams: ILibraryRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: {
              operation: &#x27;searchRetrieve&#x27;,
              query: requestParams.query,
              startRecord: requestParams.startRecord,
              maximumRecords: requestParams.maximumRecords,
              recordSchema: &#x27;mods&#x27;
            },
            responseType: &#x27;text&#x27;
          }
        );
      }
    },
    libraryDAIA: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: {
              id: params.id,
              format: &#x27;json&#x27;
            }
          }
        );
      }
    },
    libraryLKZ: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          { params: {epn: params.epn}}
        );
      }
    },
    emergencyCalls: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {headers: this.apiTokenHeader}
        );
      }
    },
    openingHours: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          { headers: this.apiTokenHeader }
        );
      }
    },
    transport: {
      buildRequest: (params: ITransportRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: {
              maxJourneys: params.maxJourneys,
              format: &#x27;json&#x27;,
              time: params.time,
              id: params.campus.transport_station_id
            }
          }
        );
      }
    },
    practiceSearch: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {headers: this.apiTokenHeader}
        );
      }
    },
    news: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {headers: this.apiTokenHeader}
        );
      }
    },
    logging: {
      buildRequest: (errorObject, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: errorObject
          }
        );
      }
    },
    feedback: {
      buildRequest: (request, url) &#x3D;&gt; {
        return this.http.post(
          url,
          request,
          {
            headers: {
              &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,
              Authorization: this.apiTokenHeader.Authorization
            }
          }
        );
      }
    },
    nominatim: {
      buildRequest: (params, url) &#x3D;&gt; {
        let lat &#x3D; &#x27;&#x27;;
        let lon &#x3D; &#x27;&#x27;;
        if (
          this.config
          &amp;&amp; this.config.campus
          &amp;&amp; this.config.campus[0]
          &amp;&amp; this.config.campus[0].coordinates
          &amp;&amp; this.config.campus[0].coordinates[0]
          &amp;&amp; this.config.campus[0].coordinates[1]
        ) {
          lat &#x3D; this.config.campus[0].coordinates[0].toString();
          lon &#x3D; this.config.campus[0].coordinates[1].toString();
        }
        return this.http.get(
          url,
          {
            params: {
              format: &#x27;jsonv2&#x27;,
              lat: lat,
              lon: lon
            }
          }
        );
      }
    },
    // PULS webservices
    pulsGetLectureScheduleRoot: {
      buildRequest: (_, url) &#x3D;&gt; {
        return this.http.post&lt;IPulsAPIResponse_getLectureScheduleRoot&gt;(
          url,
          {condition: {semester: 0}},
          {headers: this.pulsHeaders}
        );
      }
    },
    pulsGetLectureScheduleAll: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {
            condition: {
              semester: 0
            }
          },
          {
            headers: this.pulsHeaders
          }
        );
      },
      responseCallback: (response) &#x3D;&gt; this.pulsResponseCallback(response, &#x27;pulsGetLectureScheduleAll&#x27;)
    },
    pulsGetLectureScheduleSubTree: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {condition: {headerId: params.headerId}},
          {headers: this.pulsHeaders}
        );
      }
    },
    pulsGetLectureScheduleCourses: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {condition: {headerId: params.headerId}},
          {headers: this.pulsHeaders}
        );
      }
    },
    pulsGetCourseData: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {condition: {courseId: params.courseId}},
          {headers: this.pulsHeaders}
        );
      }
    },
    pulsGetPersonalStudyAreas: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
        {&#x27;user-auth&#x27;: {
            username: params.session.credentials.username,
            password: params.session.credentials.password
          }},
          {headers: this.pulsHeaders}
        );
      },
      responseCallback: (response) &#x3D;&gt; this.pulsResponseCallback(response, &#x27;pulsGetPersonalStudyAreas&#x27;)
    },
    pulsGetAcademicAchievements: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {
            condition: {
              Semester: params.semester,
              MtkNr: params.mtknr,
              StgNr: params.stgnr
            },
            &#x27;user-auth&#x27;: {
              username: params.session.credentials.username,
              password: params.session.credentials.password
            }
          },
          {
            headers: this.pulsHeaders
          }
        );
      }
    },
    pulsGetStudentCourses: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {
            condition: {
              semester: 0,
              allLectures: 0
            },
            // TODO: refactor this someday so credentials are not used
            &#x27;user-auth&#x27;: {
              username: params.session.credentials.username,
              password: params.session.credentials.password
            }
          },
          {
            headers: this.pulsHeaders
          }
        );
      }
    },
  }</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="131" class="link-to-prism">src/app/services/webservice-wrapper/webservice-wrapper.service.ts:131</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Definition of the webservices that can be used in this application.</p>
<p>TODO: I guess it would be better to write a class for each definition which
is implementing the IWebservice interface. That way we could have typing for
those functions. Can&#39;t think of an elegant way to do this, though.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { HttpClient } from &#x27;@angular/common/http&#x27;;
import { IConfig } from &#x27;../../lib/interfaces&#x27;;
import { ConfigService } from &#x27;../config/config.service&#x27;;
import { from, Observable } from &#x27;rxjs&#x27;;
import { CacheService } from &#x27;ionic-cache&#x27;;
import {
  ICachingOptions,
  ILibraryRequestParams, IMensaRequestParams,
  IPersonsRequestParams,
  IRoomsRequestParams, ITransportRequestParams,
  IWebservice
} from &#x27;./webservice-definition-interfaces&#x27;;
import { IPulsAPIResponse_getLectureScheduleRoot } from &#x27;../../lib/interfaces_PULS&#x27;;
import { AlertService } from &#x27;../alert/alert.service&#x27;;
import { utils } from &#x27;../../lib/util&#x27;;
import isEmptyObject &#x3D; utils.isEmptyObject;
import { switchMap } from &#x27;rxjs/operators&#x27;;
import { ConnectionService } from &#x27;../connection/connection.service&#x27;;
import { Logger, LoggingService } from &#x27;ionic-logging-service&#x27;;

/**
 * creates the httpParams for a request to the rooms api
 * @param params {IRoomsRequestParams} Params to build the request with
 */
function createRoomParams(params: IRoomsRequestParams) {
  return {
    format: &#x27;json&#x27;,
    startTime: params.timeSlot.start.toISOString(),
    endTime: params.timeSlot.end.toISOString(),
    campus: params.campus.location_id
  };
}

/**
 * Service for bundling all http calls in one place.
 *
 * In {@link webservices} a webservice request can be defined. A definition consists
 * of three functions: &#x27;buildRequest&#x27;, &#x27;responseCallback&#x27;, &#x27;errorCallback&#x27;.
 *
 * - buildRequest: This function *must* be defined as it is the function that actually
 *   builds the request. The parameters this function uses must be passed to the
 *   {@link call} function when it is called.
 *
 * - responseCallback: This function can optionally be defined to preprocess the
 *   webservices response before being returned to where the function was called.
 *   By default (see {@link defaults}) a function that just passes on the response
 *   is called, so in other words nothing will be done.
 *
 * - errorCallback: This function can optionally be defined to handle an error
 *   individually.
 *   By default (see {@link defaults}) the error is simply logged to console and
 *   passed on.
 *
 * This service also supports caching. Caching is enabled for every endpoint by
 * default, if it should be disabled set &#x27;cachingEnabled&#x27; to false in the endpoint
 * definition.
 * When calling a webservice an optional object for caching options can be used.
 * In this object you can manually set some caching parameters and make the request
 * remove any cached items before execution by using:
 *  - &#x27;forceRefresh&#x27;: will remove item with same cacheItemKey
 *  - &#x27;forceRefreshGroup&#x27;: will remove all items with same cacheGroupKey
 *
 * Usage examples:
 *
 * @example
 * // without parameters
 * this.webserviceWrapper.call(&#x27;maps&#x27;)
 *
 * // with parameters
 * this.webserviceWrapper.call(&#x27;mensa&#x27;, {campus_canteen_name: &#x27;NeuesPalais&#x27;})
 *
 * // will get a new element because forceRefresh is set to true
 * this.webserviceWrapper.call(
 *    &#x27;mensa&#x27;,
 *    {campus_canteen_name: &#x27;NeuesPalais&#x27;},
 *    {forceRefresh: true}
 * )
 *
 * // will remove any cached mensa request because forceRefrehGroup is set to true
 * this.webserviceWrapper.call(
 *    &#x27;mensa&#x27;,
 *    {campus_canteen_name: &#x27;NeuesPalais&#x27;},
 *    {forceRefreshGroup: true}
 * )
 */
@Injectable({
  providedIn: &#x27;root&#x27;
})
export class WebserviceWrapperService {

  private config: IConfig &#x3D; ConfigService.config;

  /**
   * oftenly used header, can be used in buildRequest functions
   */
  private apiTokenHeader &#x3D; {Authorization: this.config.webservices.apiToken};

  private pulsHeaders &#x3D; {
    &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,
    &#x27;Authorization&#x27;: this.config.webservices.apiToken
  };

  /**
   * default values for webservice definitions. Will be assigned in {@link getDefinition}
   * if not set
   */
  private defaults &#x3D; {
    // by default the response will be passed on
    responseCallback: (response: any, wsName) &#x3D;&gt; {
      const stringResponse &#x3D; JSON.stringify(response);
      if (stringResponse.length &gt; 30000) {
        this.logger.debug(&#x27;responseCallback&#x27;, &#x60;calling &#x27;${wsName}&#x27;: &#x60;, stringResponse.substring(0, 30000));
      } else { this.logger.debug(&#x27;responseCallback&#x27;, &#x60;calling &#x27;${wsName}&#x27;: &#x60;, response); }
      return response;
    },
    // by default in case of an error the error will be passed on
    errorCallback: (error, wsName) &#x3D;&gt; {
      this.logger.error(&#x27;errorCallback&#x27;, &#x60;calling &#x27;${wsName}&#x27;: &#x60;, error);
      return error;
    }
  };

  /**
   * Definition of the webservices that can be used in this application.
   *
   * TODO: I guess it would be better to write a class for each definition which
   * is implementing the IWebservice interface. That way we could have typing for
   * those functions. Can&#x27;t think of an elegant way to do this, though.
   */
  public webservices: {[wsName: string]: IWebservice} &#x3D; {
    maps: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader
          }
        );
      }
    },
    mensa: {
      buildRequest: (params: IMensaRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: {location: params.campus_canteen_name}
          }
        );
      }
    },
    personSearch: {
      buildRequest: (params: IPersonsRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url + &#x27;/&#x27; + params.query,
          {
            headers: {
              Authorization: &#x60;${params.session.oidcTokenObject.token_type} ${params.session.oidcTokenObject.access_token}&#x60;
            }
          }
        );
      }
    },
    roomsSearch: {
      buildRequest: (params: IRoomsRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: createRoomParams(params)
          }
        );
      }
    },
    roomPlanSearch: {
      buildRequest: (params: IRoomsRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: createRoomParams(params)
          }
        );
      }
    },
    library: {
      buildRequest: (requestParams: ILibraryRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: {
              operation: &#x27;searchRetrieve&#x27;,
              query: requestParams.query,
              startRecord: requestParams.startRecord,
              maximumRecords: requestParams.maximumRecords,
              recordSchema: &#x27;mods&#x27;
            },
            responseType: &#x27;text&#x27;
          }
        );
      }
    },
    libraryDAIA: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: {
              id: params.id,
              format: &#x27;json&#x27;
            }
          }
        );
      }
    },
    libraryLKZ: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          { params: {epn: params.epn}}
        );
      }
    },
    emergencyCalls: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {headers: this.apiTokenHeader}
        );
      }
    },
    openingHours: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          { headers: this.apiTokenHeader }
        );
      }
    },
    transport: {
      buildRequest: (params: ITransportRequestParams, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: {
              maxJourneys: params.maxJourneys,
              format: &#x27;json&#x27;,
              time: params.time,
              id: params.campus.transport_station_id
            }
          }
        );
      }
    },
    practiceSearch: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {headers: this.apiTokenHeader}
        );
      }
    },
    news: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {headers: this.apiTokenHeader}
        );
      }
    },
    logging: {
      buildRequest: (errorObject, url) &#x3D;&gt; {
        return this.http.get(
          url,
          {
            headers: this.apiTokenHeader,
            params: errorObject
          }
        );
      }
    },
    feedback: {
      buildRequest: (request, url) &#x3D;&gt; {
        return this.http.post(
          url,
          request,
          {
            headers: {
              &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,
              Authorization: this.apiTokenHeader.Authorization
            }
          }
        );
      }
    },
    nominatim: {
      buildRequest: (params, url) &#x3D;&gt; {
        let lat &#x3D; &#x27;&#x27;;
        let lon &#x3D; &#x27;&#x27;;
        if (
          this.config
          &amp;&amp; this.config.campus
          &amp;&amp; this.config.campus[0]
          &amp;&amp; this.config.campus[0].coordinates
          &amp;&amp; this.config.campus[0].coordinates[0]
          &amp;&amp; this.config.campus[0].coordinates[1]
        ) {
          lat &#x3D; this.config.campus[0].coordinates[0].toString();
          lon &#x3D; this.config.campus[0].coordinates[1].toString();
        }
        return this.http.get(
          url,
          {
            params: {
              format: &#x27;jsonv2&#x27;,
              lat: lat,
              lon: lon
            }
          }
        );
      }
    },
    // PULS webservices
    pulsGetLectureScheduleRoot: {
      buildRequest: (_, url) &#x3D;&gt; {
        return this.http.post&lt;IPulsAPIResponse_getLectureScheduleRoot&gt;(
          url,
          {condition: {semester: 0}},
          {headers: this.pulsHeaders}
        );
      }
    },
    pulsGetLectureScheduleAll: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {
            condition: {
              semester: 0
            }
          },
          {
            headers: this.pulsHeaders
          }
        );
      },
      responseCallback: (response) &#x3D;&gt; this.pulsResponseCallback(response, &#x27;pulsGetLectureScheduleAll&#x27;)
    },
    pulsGetLectureScheduleSubTree: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {condition: {headerId: params.headerId}},
          {headers: this.pulsHeaders}
        );
      }
    },
    pulsGetLectureScheduleCourses: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {condition: {headerId: params.headerId}},
          {headers: this.pulsHeaders}
        );
      }
    },
    pulsGetCourseData: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {condition: {courseId: params.courseId}},
          {headers: this.pulsHeaders}
        );
      }
    },
    pulsGetPersonalStudyAreas: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
        {&#x27;user-auth&#x27;: {
            username: params.session.credentials.username,
            password: params.session.credentials.password
          }},
          {headers: this.pulsHeaders}
        );
      },
      responseCallback: (response) &#x3D;&gt; this.pulsResponseCallback(response, &#x27;pulsGetPersonalStudyAreas&#x27;)
    },
    pulsGetAcademicAchievements: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {
            condition: {
              Semester: params.semester,
              MtkNr: params.mtknr,
              StgNr: params.stgnr
            },
            &#x27;user-auth&#x27;: {
              username: params.session.credentials.username,
              password: params.session.credentials.password
            }
          },
          {
            headers: this.pulsHeaders
          }
        );
      }
    },
    pulsGetStudentCourses: {
      buildRequest: (params, url) &#x3D;&gt; {
        return this.http.post(
          url,
          {
            condition: {
              semester: 0,
              allLectures: 0
            },
            // TODO: refactor this someday so credentials are not used
            &#x27;user-auth&#x27;: {
              username: params.session.credentials.username,
              password: params.session.credentials.password
            }
          },
          {
            headers: this.pulsHeaders
          }
        );
      }
    },
  };

  logger: Logger;

  constructor(
    private http: HttpClient,
    private cache: CacheService,
    private alertService: AlertService,
    private connection: ConnectionService,
    private loggingService: LoggingService
    ) {
      this.logger &#x3D; this.loggingService.getLogger(&#x27;[/webservice-wrapper]&#x27;);
    }

  pulsResponseCallback(response, wsName) {
    const stringResponse &#x3D; JSON.stringify(response);
    if (stringResponse &amp;&amp; stringResponse.length &gt; 30000) {
      this.logger.debug(&#x27;pulsResponseCallback&#x27;, &#x60;calling &#x27;${wsName}&#x27;: &#x60;, stringResponse.substring(0, 30000));
    } else { this.logger.debug(&#x27;pulsResponseCallback&#x27;, &#x60;calling &#x27;${wsName}&#x27;: &#x60;, response); }

    // PULS simply responds with &quot;no user rights&quot; if credentials are incorrect
    if (response &amp;&amp; response.message &amp;&amp; response.message &#x3D;&#x3D;&#x3D; &#x27;no user rights&#x27;) {
      this.alertService.showAlert({
        headerI18nKey: &#x27;alert.title.error&#x27;,
        messageI18nKey: &#x27;alert.token_valid_credentials_invalid&#x27;
      });
    }
    return response;
  }

  /**
   * returns a webservice definition and sets default values for a webservice
   * definitions attributes that are undefined. If the webservice is not known,
   * an error will the thrown.
   * @param name {string} Name of the webservice to be returned
   */
  private getDefinition(name: string) {
    if (!this.webservices.hasOwnProperty(name)) {
      this.logger.error(&#x27;getDefinition&#x27;, &#x60;no webservice named ${name} defined&#x60;);
    }
    const ws &#x3D; this.webservices[name];
    for (const k in this.defaults) {
      if (!ws.hasOwnProperty(k)) {
        ws[k] &#x3D; this.defaults[k];
      }
    }
    return ws;
  }

  /**
   * executes the specified call
   * @param webserviceName {string} The name of the service to be called
   * @param params {any} Additional params that will be given to the call building function
   * @param cachingOptions {ICachingOptions} Optional parameters for caching
   */
  public call(webserviceName: string,
              params &#x3D; {},
              cachingOptions: ICachingOptions &#x3D; {}) {

    // first prepare the webservice definition by adding default values if possible
    const ws &#x3D; this.getDefinition(webserviceName);

    if (!this.config.webservices.endpoint.hasOwnProperty(webserviceName)) {
      this.logger.error(&#x27;call&#x27;, &#x60;no endpoint defined for &#x27;${webserviceName}&#x27;&#x60;);
    }

    if (!this.config.webservices.endpoint[webserviceName].hasOwnProperty(&#x27;url&#x27;)) {
      this.logger.error(&#x27;call&#x27;, &#x60;no url defined for endpoint &#x27;${webserviceName}&#x27;&#x60;);
    }

    // shortcut for less repetition
    const endpoint &#x3D; this.config.webservices.endpoint[webserviceName];

    // create the request by calling the defined buildRequest function
    const request &#x3D; ws.buildRequest(params, endpoint.url);

    // now create a wrapping Observable around the request and attach the defined
    // callbacks to it
    const wrapperObservable &#x3D; new Observable(
      observer &#x3D;&gt; {
        request.subscribe(
          response &#x3D;&gt; {
            observer.next(ws.responseCallback(response, webserviceName));
            observer.complete();
          },
          error &#x3D;&gt; {
            observer.error(ws.errorCallback(error, webserviceName));
          }
        );
      }
    );

    if (endpoint.cachingEnabled &#x3D;&#x3D;&#x3D; false || cachingOptions.dontCache &#x3D;&#x3D;&#x3D; true) {
      // if caching is not desired for this endpoint we just return the observable itself
      this.logger.debug(&#x27;call&#x27;, &#x60;returning &#x27;${webserviceName}&#x27; without caching&#x60;);
      return wrapperObservable;
    }

    // at this point caching seems to be desired

    /* key:
     *   1. key as defined in cachingOptions
     *   2. key &#x3D; name of the webservice plus base64 encoding of the used parameters
     */
    const cacheItemKey &#x3D; cachingOptions.key
      || webserviceName + (isEmptyObject(params) ? &#x27;&#x27; : (&#x27;:&#x27; + btoa(JSON.stringify(params))));

    /* groupKey:
     *   1. key as defined in cachingOptions
     *   2. key specified in endpoint config
     *   3. key &#x3D; name of the webservice plus &quot;Group&quot;, e.g. &#x27;library&#x27; -&gt; &#x27;libraryGroup&#x27;
     */
    const cacheGroupKey &#x3D; cachingOptions.groupKey
      || this.config.webservices.endpoint[webserviceName].cacheGroupKey
      || webserviceName + this.config.webservices.cacheGroupKeySuffix;

    /* ttl:
     *   1: ttl in cachingOptions
     *   2: ttl in config or default ttl
     *   3: no explicit ttl, which will use the default ttl set in app.component
     */
    const cacheTTL &#x3D; cachingOptions.ttl
      || this.config.webservices.endpoint[webserviceName].cachingTTL
      || undefined;

    this.logger.debug(&#x27;call&#x27;, &#x60;returning &#x27;${webserviceName}&#x27; with caching, options: ${JSON.stringify(cachingOptions)}&#x60;);

    // removes items from cache if desired and then, after cache has been modified
    // returns a cached Observable
    let connection &#x3D; false;
    if (this.connection.checkOnline(false, false) &#x3D;&#x3D;&#x3D; 1) { connection &#x3D; true; }

    if (connection) {
      return from(
        Promise.all([
          cachingOptions.forceRefreshGroup
            ? this.cache.clearGroup(cacheGroupKey)
            : Promise.resolve(),
          cachingOptions.forceRefresh
            ? this.cache.removeItem(cacheItemKey)
            : Promise.resolve()
        ])
      ).pipe(
        switchMap(() &#x3D;&gt; this.cache.loadFromObservable(
          cacheItemKey,
          wrapperObservable,
          cacheGroupKey,
          cacheTTL
          )
        )
      );
    } else {
      return from(
        Promise.all([
          cachingOptions.forceRefreshGroup
            ? this.logger.debug(&#x27;call&#x27;, &#x27;not clearing cache, since there is no internet connection!&#x27;)
            : Promise.resolve(),
          cachingOptions.forceRefresh
            ? this.logger.debug(&#x27;call&#x27;, &#x27;not clearing cache, since there is no internet connection!&#x27;)
            : Promise.resolve()
        ])
      ).pipe(
        switchMap(() &#x3D;&gt; this.cache.loadFromObservable(
          cacheItemKey,
          wrapperObservable,
          cacheGroupKey,
          cacheTTL
          )
        )
      );
    }
  }
}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'WebserviceWrapperService.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
